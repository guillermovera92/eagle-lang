gen test() : int
{
    yield 1
    yield 2
    yield 3
}

func main()
{
    var t = test()

    int i
    __gen_test_code(byte*@(unwrap t), &i)
    puts i
    __gen_test_code(byte*@(unwrap t), &i)
    puts i
    __gen_test_code(byte*@(unwrap t), &i)
    puts i
}
