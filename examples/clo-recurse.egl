func main() : int
{
    weak (int : int)^ safe_close
    (int : int)^ factorial

    weak int^ w
    int^ x = new int
    w = x
    x^ = 6

    factorial = func(int i) : int {
        if i == 0
            return 1
        return safe_close(i - 1) * i
    }

    safe_close = factorial

    func() : void {
        puts factorial(10)
    }()

    puts factorial(5)

    return 0
}
